{"code":"(this[\"webpackJsonphackernews-react-apollo\"]=this[\"webpackJsonphackernews-react-apollo\"]||[]).push([[0],{86:function(e,n,t){},98:function(e,n,t){\"use strict\";t.r(n);var a=t(11),c=t(2),r=t(66),s=t.n(r),o=(t(86),t(20)),i=t(25),l=(t(110),\"auth-token\"),d=t(45),u=t(18),j=t(113);function b(e){return function(e,n){var t=6e4,a=36e5,c=864e5,r=2592e6,s=31536e6,o=e-n;return o<2e4?\"just now\":o<t?\"less than 1 min ago\":o<a?Math.round(o/t)+\" min ago\":o<c?Math.round(o/a)+\" h ago\":o<r?Math.round(o/c)+\" days ago\":o<s?Math.round(o/r)+\" mo ago\":Math.round(o/s)+\" years ago\"}((new Date).getTime(),new Date(e).getTime())}var m,h,p,O,g,x,v=t(3),f=Object(i.a)(m||(m=Object(o.a)([\"\\n  mutation createVote($linkId: Int!) {\\n    createVote(linkId: $linkId) {\\n      user {\\n        username\\n        email\\n      }\\n      link {\\n        url\\n        description\\n      }\\n    }\\n  }\\n\"]))),w=function(e){var n=e.link,t=localStorage.getItem(l),c=Object(j.a)(f,{variables:{linkId:n.id},onCompleted:function(e){var n=e.createVote;console.log(n)},update:function(e,t){var c=t.data.vote,r=e.readQuery({query:k}).links.map((function(e){return e.id===n.id?Object(a.a)(Object(a.a)({},e),{},{votes:[].concat(Object(d.a)(e.votes.edges),[c])}):e}));e.writeQuery({query:k,data:{feed:{links:r}}})}}),r=Object(u.a)(c,1)[0];return Object(v.jsxs)(\"div\",{className:\"flex mt2 items-start\",children:[Object(v.jsxs)(\"div\",{className:\"flex items-center\",children:[Object(v.jsxs)(\"span\",{className:\"gray\",children:[e.index+1,\".\"]}),t&&Object(v.jsx)(\"div\",{className:\"ml1 gray f11\",style:{cursor:\"pointer\"},onClick:r,children:\"\\u25b2\"})]}),Object(v.jsxs)(\"div\",{className:\"ml1\",children:[Object(v.jsxs)(\"div\",{children:[n.id,\" - \",n.description,\" (\",n.url,\")\"]}),t&&Object(v.jsxs)(\"div\",{className:\"f6 lh-copy gray\",children:[n.votes.edges.length,\" votes | by\",\" \",n.postedBy?n.postedBy.username:\"Unknown\",\" \",b(Date().toLocaleString())]})]})]})},k=Object(i.a)(h||(h=Object(o.a)([\"\\n  {\\n  links{\\n    id\\n    url\\n    description\\n    postedBy{\\n      id\\n      email\\n      username\\n    }\\n    votes{\\n      edges{\\n        node{\\n          id\\n          link{\\n            id\\n            url\\n            description\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"]))),y=t(6),N=Object(i.a)(p||(p=Object(o.a)([\"\\n  mutation CreateLink(\\n    $description: String!\\n    $url: String!\\n  ) {\\n    createLink(description: $description, url: $url) {\\n      id\\n      url\\n      description\\n    }\\n  }\\n\"]))),S=function(){var e=Object(y.g)(),n=Object(c.useState)({description:\"\",url:\"\"}),t=Object(u.a)(n,2),r=t[0],s=t[1],o=Object(j.a)(N,{variables:{description:r.description,url:r.url},update:function(e,n){var t=n.data.post,a={createdAt:\"desc\"},c=e.readQuery({query:k,variables:{take:5,skip:0,orderBy:a}});e.writeQuery({query:k,data:{feed:{links:[t].concat(Object(d.a)(c.feed.links))}},variables:{take:5,skip:0,orderBy:a}})},onCompleted:function(){return e.push(\"/new/1\")}}),i=Object(u.a)(o,1)[0];return Object(v.jsx)(\"div\",{children:Object(v.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),i()},children:[Object(v.jsxs)(\"div\",{className:\"flex flex-column mt3\",children:[Object(v.jsx)(\"input\",{className:\"mb2\",value:r.description,onChange:function(e){return s(Object(a.a)(Object(a.a)({},r),{},{description:e.target.value}))},type:\"text\",placeholder:\"A description for the link\"}),Object(v.jsx)(\"input\",{className:\"mb2\",value:r.url,onChange:function(e){return s(Object(a.a)(Object(a.a)({},r),{},{url:e.target.value}))},type:\"text\",placeholder:\"The URL for the link\"})]}),Object(v.jsx)(\"button\",{type:\"submit\",onClick:function(){i(),e.push(\"/\"),window.location.reload()},children:\"Submit\"})]})})},$=t(21),C=function(){var e=Object(y.g)(),n=localStorage.getItem(l);return Object(v.jsxs)(\"div\",{className:\"flex pa1 justify-between nowrap orange\",children:[Object(v.jsxs)(\"div\",{className:\"flex flex-fixed white\",children:[Object(v.jsx)(\"div\",{className:\"fw7 mr1\",children:\"GIMEBA NEWS\"}),Object(v.jsx)($.b,{to:\"/\",className:\"ml1 no-underline white\",children:\"new\"}),Object(v.jsx)(\"div\",{className:\"ml1\",children:\"|\"}),Object(v.jsx)($.b,{to:\"/top\",className:\"ml1 no-underline white\",children:\"top\"}),Object(v.jsx)(\"div\",{className:\"ml1\",children:\"|\"}),Object(v.jsx)($.b,{to:\"/search\",className:\"ml1 no-underline white\",children:\"search\"}),n&&Object(v.jsxs)(\"div\",{className:\"flex\",children:[Object(v.jsx)(\"div\",{className:\"ml1\",children:\"|\"}),Object(v.jsx)($.b,{to:\"/create\",className:\"ml1 no-underline white\",children:\"submit\"})]})]}),Object(v.jsx)(\"div\",{className:\"flex flex-fixed\",children:n?Object(v.jsx)(\"div\",{className:\"ml1 pointer white\",onClick:function(){localStorage.removeItem(l),e.push(\"/\")},children:\"logout\"}):Object(v.jsx)($.b,{to:\"/login\",className:\"ml1 no-underline white\",children:\"login\"})})]})},I=Object(i.a)(O||(O=Object(o.a)([\"\\nmutation SignupMutation(\\n  $email: String!\\n  $password: String!\\n  $username: String!\\n) {\\n  createUser(\\n    email: $email\\n    password: $password\\n    username: $username\\n  ) {\\n   user{\\n    id\\n    email\\n    password\\n    username\\n  }\\n  }\\n\\n \\n\\n  tokenAuth(username: $username,password: $password){\\n  token\\n  }\\n}\\n\"]))),A=Object(i.a)(g||(g=Object(o.a)([\"\\n  mutation TokenAuth(\\n    $username: String!\\n    $password: String!\\n  ) {\\n    tokenAuth(username: $username, password: $password) {\\n      token\\n    }\\n  }\\n\"]))),B=function(){var e=Object(y.g)(),n=Object(c.useState)({login:!0,email:\"\",password:\"\",name:\"\"}),t=Object(u.a)(n,2),r=t[0],s=t[1],o=Object(j.a)(A,{variables:{username:r.email,password:r.password},onCompleted:function(n){var t=n.tokenAuth;console.log(t),localStorage.setItem(l,t.token),e.push(\"/\")}}),i=Object(u.a)(o,1)[0];var d=Object(j.a)(I,{variables:{username:r.name,email:r.email,password:r.password},onCompleted:function(n){var t=n.tokenAuth;localStorage.setItem(l,t.token),e.push(\"/\")}}),b=Object(u.a)(d,1)[0];return Object(v.jsxs)(\"div\",{children:[Object(v.jsx)(\"h4\",{className:\"mv3\",children:r.login?\"Login\":\"Sign Up\"}),Object(v.jsxs)(\"div\",{className:\"flex flex-column\",children:[!r.login&&Object(v.jsx)(\"input\",{value:r.name,onChange:function(e){return s(Object(a.a)(Object(a.a)({},r),{},{name:e.target.value}))},type:\"text\",placeholder:\"Your name\"}),Object(v.jsx)(\"input\",{value:r.email,onChange:function(e){return s(Object(a.a)(Object(a.a)({},r),{},{email:e.target.value}))},type:\"text\",placeholder:\"Your name\"}),Object(v.jsx)(\"input\",{value:r.password,onChange:function(e){return s(Object(a.a)(Object(a.a)({},r),{},{password:e.target.value}))},type:\"password\",placeholder:\"Choose a safe password\"})]}),Object(v.jsxs)(\"div\",{className:\"flex mt3\",children:[Object(v.jsx)(\"button\",{className:\"pointer mr2 button\",onClick:function(){r.login?i(r.username,r.password).then((function(){window.location.reload()})):b(r.name,r.password)},children:r.login?\"login\":\"create account\"}),Object(v.jsx)(\"button\",{className:\"pointer button\",onClick:function(e){return s(Object(a.a)(Object(a.a)({},r),{},{login:!r.login}))},children:r.login?\"need to create an account?\":\"already have an account?\"})]})]})},L=t(111),M=Object(i.a)(x||(x=Object(o.a)([\"\\n  query FeedSearchQuery($search: String) {\\n  links(search: $search){\\n      id\\n      url\\n        description\\n        postedBy {\\n          id\\n          username\\n        }\\n        votes {\\n          edges{\\n            node{\\n              id\\n               user {\\n                id\\n            }\\n            }\\n          }\\n\\n \\n\\n        }\\n       # createdAt\\n  }\\n}\\n\"]))),Q=function(){var e=Object(c.useState)(\"\"),n=Object(u.a)(e,2),t=n[0],a=n[1],r=Object(L.a)(M),s=Object(u.a)(r,2),o=s[0],i=s[1].data;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)(\"div\",{children:[\"Search\",Object(v.jsx)(\"input\",{type:\"text\",onChange:function(e){return a(e.target.value)}}),Object(v.jsx)(\"button\",{onClick:function(){return o({variables:{search:t}})},children:\"OK\"})]}),i&&i.links.map((function(e,n){return Object(v.jsx)(w,{link:e,index:n},e.id)}))]})},q=function(){return Object(v.jsxs)(\"div\",{className:\"center w85\",children:[Object(v.jsx)(C,{}),Object(v.jsx)(\"div\",{className:\"ph3 pv1 background-gray\",children:Object(v.jsxs)(y.d,{children:[Object(v.jsx)(y.b,{exact:!0,path:\"/\",render:function(){return Object(v.jsx)(y.a,{to:\"/new/1\"})}}),Object(v.jsx)(y.b,{exact:!0,path:\"/create\",component:S}),Object(v.jsx)(y.b,{exact:!0,path:\"/login\",component:B}),Object(v.jsx)(y.b,{exact:!0,path:\"/search\",component:Q})]})})]})};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=t(71),T=t(72),D=t(73),U=t(51),W=t(27),J=t(99),V=t(97),F=Object(D.a)({uri:\"http://35.232.232.192:8090/graphql/\"}),G=Object(E.a)((function(e,n){var t=n.headers,c=localStorage.getItem(l);return{headers:Object(a.a)(Object(a.a)({},t),{},{authorization:c?\"JWT \".concat(c):\"\"})}})),Y=Object(T.a)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.forEach((function(e){var n=e.message,t=e.locations,a=e.path;return console.log(\"[GraphQL error]: Message: \".concat(n,\", Location: \").concat(t,\", Path: \").concat(a))})),t&&console.log(\"[Network error]: \".concat(t))})),z=new U.a({link:Object(W.from)([G,Y,F]),cache:new J.a});s.a.render(Object(v.jsxs)($.a,{children:[Object(v.jsx)(V.a,{client:z,children:Object(v.jsx)(q,{})}),\",\"]}),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[98,1,2]]]);","name":"static/js/main.214c5af3.chunk.js","map":{"version":3,"sources":["static/js/main.214c5af3.chunk.js"],"names":["this","push","86","module","exports","__webpack_require__","98","__webpack_exports__","r","objectSpread2","react","react_dom","react_dom_default","n","taggedTemplateLiteral","lib","AUTH_TOKEN","toConsumableArray","slicedToArray","useMutation","timeDifferenceForDate","date","current","previous","milliSecondsPerMinute","milliSecondsPerHour","milliSecondsPerDay","milliSecondsPerMonth","milliSecondsPerYear","elapsed","Math","round","timeDifference","Date","getTime","_templateObject","LinkList_templateObject","CreateLink_templateObject","Login_templateObject","_templateObject2","Search_templateObject","jsx_runtime","VOTE_MUTATION","Object","components_Link","props","link","authToken","localStorage","getItem","_useMutation","variables","linkId","id","onCompleted","_ref","createVote","console","log","update","cache","_ref2","vote","data","updatedLinks","readQuery","query","FEED_QUERY","links","map","feedLink","votes","concat","edges","writeQuery","feed","className","children","index","style","cursor","onClick","description","url","length","postedBy","username","toLocaleString","react_router","CREATE_LINK_MUTATION","components_CreateLink","history","_useState","_useState2","formState","setFormState","post","orderBy","createdAt","take","skip","createLink","onSubmit","e","preventDefault","value","onChange","target","type","placeholder","window","location","reload","react_router_dom","components_Header","to","removeItem","SIGNUP_MUTATION","LOGIN_MUTATION","components_Login","login","email","password","name","tokenAuth","setItem","token","_useMutation3","signup","then","useLazyQuery","FEED_SEARCH_QUERY","components_Search","searchFilter","setSearchFilter","_useLazyQuery","_useLazyQuery2","executeSearch","search","components_App","exact","path","render","component","Boolean","hostname","match","context","error","createHttpLink","ApolloClient","client","inMemoryCache","ApolloProvider","httpLink","uri","authLink","_","headers","authorization","errorLink","graphQLErrors","networkError","forEach","_ref3","message","locations","src_client","a","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"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"},"input":"(this[\"webpackJsonphackernews-react-apollo\"] = this[\"webpackJsonphackernews-react-apollo\"] || []).push([[0],{\n\n/***/ 86:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 98:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(66);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/styles/index.css\nvar styles = __webpack_require__(86);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/graphql-tag/lib/index.js + 15 modules\nvar lib = __webpack_require__(25);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useQuery.js\nvar useQuery = __webpack_require__(110);\n\n// CONCATENATED MODULE: ./src/constants.js\nvar AUTH_TOKEN='auth-token';var LINKS_PER_PAGE=5;\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(45);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useMutation.js + 1 modules\nvar useMutation = __webpack_require__(113);\n\n// CONCATENATED MODULE: ./src/utils.js\nfunction timeDifference(current,previous){var milliSecondsPerMinute=60*1000;var milliSecondsPerHour=milliSecondsPerMinute*60;var milliSecondsPerDay=milliSecondsPerHour*24;var milliSecondsPerMonth=milliSecondsPerDay*30;var milliSecondsPerYear=milliSecondsPerDay*365;var elapsed=current-previous;if(elapsed<milliSecondsPerMinute/3){return'just now';}if(elapsed<milliSecondsPerMinute){return'less than 1 min ago';}else if(elapsed<milliSecondsPerHour){return Math.round(elapsed/milliSecondsPerMinute)+' min ago';}else if(elapsed<milliSecondsPerDay){return Math.round(elapsed/milliSecondsPerHour)+' h ago';}else if(elapsed<milliSecondsPerMonth){return Math.round(elapsed/milliSecondsPerDay)+' days ago';}else if(elapsed<milliSecondsPerYear){return Math.round(elapsed/milliSecondsPerMonth)+' mo ago';}else{return Math.round(elapsed/milliSecondsPerYear)+' years ago';}}function timeDifferenceForDate(date){var now=new Date().getTime();var updated=new Date(date).getTime();return timeDifference(now,updated);}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/Link.js\nvar _templateObject;var VOTE_MUTATION=Object(lib[\"a\" /* default */])(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation createVote($linkId: Int!) {\\n    createVote(linkId: $linkId) {\\n      user {\\n        username\\n        email\\n      }\\n      link {\\n        url\\n        description\\n      }\\n    }\\n  }\\n\"])));var Link_Link=function Link(props){var link=props.link;var authToken=localStorage.getItem(AUTH_TOKEN);var take=LINKS_PER_PAGE;var skip=0;var orderBy={createdAt:'desc'};var _useMutation=Object(useMutation[\"a\" /* useMutation */])(VOTE_MUTATION,{variables:{linkId:link.id},onCompleted:function onCompleted(_ref){var createVote=_ref.createVote;console.log(createVote);},update:function update(cache,_ref2){var vote=_ref2.data.vote;var _cache$readQuery=cache.readQuery({query:FEED_QUERY}),links=_cache$readQuery.links;var updatedLinks=links.map(function(feedLink){if(feedLink.id===link.id){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},feedLink),{},{votes:[].concat(Object(toConsumableArray[\"a\" /* default */])(feedLink.votes.edges),[vote])});}return feedLink;});cache.writeQuery({query:FEED_QUERY,data:{feed:{links:updatedLinks}}});}}),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),vote=_useMutation2[0];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex mt2 items-start\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{className:\"gray\",children:[props.index+1,\".\"]}),authToken&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ml1 gray f11\",style:{cursor:'pointer'},onClick:vote,children:\"\\u25B2\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ml1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[link.id,\" - \",link.description,\" (\",link.url,\")\"]}),authToken&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"f6 lh-copy gray\",children:[link.votes.edges.length,\" votes | by\",' ',link.postedBy?link.postedBy.username:'Unknown',' ',timeDifferenceForDate(Date().toLocaleString())]})]})]});};/* harmony default export */ var components_Link = (Link_Link);\n// CONCATENATED MODULE: ./src/components/LinkList.js\nvar LinkList_templateObject;var FEED_QUERY=Object(lib[\"a\" /* default */])(LinkList_templateObject||(LinkList_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  {\\n  links{\\n    id\\n    url\\n    description\\n    postedBy{\\n      id\\n      email\\n      username\\n    }\\n    votes{\\n      edges{\\n        node{\\n          id\\n          link{\\n            id\\n            url\\n            description\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n\"])));var LinkList_LinkList=function LinkList(){var _useQuery=Object(useQuery[\"a\" /* useQuery */])(FEED_QUERY),data=_useQuery.data;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:data&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:data.links.map(function(link,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Link,{link:link,index:index},link.id);})})});};/* harmony default export */ var components_LinkList = (LinkList_LinkList);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/components/CreateLink.js\nvar CreateLink_templateObject;var CREATE_LINK_MUTATION=Object(lib[\"a\" /* default */])(CreateLink_templateObject||(CreateLink_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation CreateLink(\\n    $description: String!\\n    $url: String!\\n  ) {\\n    createLink(description: $description, url: $url) {\\n      id\\n      url\\n      description\\n    }\\n  }\\n\"])));var CreateLink_CreateLink=function CreateLink(){var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])({description:'',url:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(CREATE_LINK_MUTATION,{variables:{description:formState.description,url:formState.url},update:function update(cache,_ref){var post=_ref.data.post;var take=LINKS_PER_PAGE;var skip=0;var orderBy={createdAt:'desc'};var data=cache.readQuery({query:FEED_QUERY,variables:{take:take,skip:skip,orderBy:orderBy}});cache.writeQuery({query:FEED_QUERY,data:{feed:{links:[post].concat(Object(toConsumableArray[\"a\" /* default */])(data.feed.links))}},variables:{take:take,skip:skip,orderBy:orderBy}});},onCompleted:function onCompleted(){return history.push('/new/1');}}),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),createLink=_useMutation2[0];//Crea funcion para lmandar a otro componente\nfunction clickHistory(){history.push(\"/\");window.location.reload();}function refreshPage(){window.location.reload();}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();createLink();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-column mt3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"mb2\",value:formState.description,onChange:function onChange(e){return setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{description:e.target.value}));},type:\"text\",placeholder:\"A description for the link\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"mb2\",value:formState.url,onChange:function onChange(e){return setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{url:e.target.value}));},type:\"text\",placeholder:\"The URL for the link\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",onClick:function onClick(){createLink();clickHistory();//Se llama a la funcion\n},children:\"Submit\"})]})});};/* harmony default export */ var components_CreateLink = (CreateLink_CreateLink);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(21);\n\n// CONCATENATED MODULE: ./src/components/Header.js\n//import { Link, withRouter } from 'react-router-dom';\n/*const Header = () => {\n  const history = useHistory();\n  const authToken = localStorage.getItem(AUTH_TOKEN);\n  return (\n    <div className=\"flex pa1 justify-between nowrap orange\">\n      <div className=\"flex flex-fixed black\">\n        <div className=\"fw7 mr1\">Hacker News</div>\n        <Link to=\"/\" className=\"ml1 no-underline black\">\n          new\n        </Link>\n\t\n\t<div className=\"ml1\">|</div>\n        <Link to=\"/top\" className=\"ml1 no-underline black\">\n          top\n        </Link>\n         <div className=\"ml1\">|</div>\n        \n\t<Link\n          to=\"/search\"\n          className=\"ml1 no-underline black\"\n        >\n          search\n        </Link>\n        {authToken && (\n          <div className=\"flex\">\n            <div className=\"ml1\">|</div>\n\t<Link\n          to=\"/create\"\n          className=\"ml1 no-underline black\"\n        >\n         submit\n            </Link>\n          </div>\n        )}\n      </div>\n      <div className=\"flex flex-fixed\">\n        {authToken ? (\n          <div\n            className=\"ml1 pointer black\"\n            onClick={() => {\n              localStorage.removeItem(AUTH_TOKEN);\n              history.push(`/`);\n            }}\n          >\n            logout\n          </div>\n        ) : (\n          <Link\n            to=\"/login\"\n            className=\"ml1 no-underline black\"\n          >\n            login\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n};*/var Header_Header=function Header(){var history=Object(react_router[\"g\" /* useHistory */])();var authToken=localStorage.getItem(AUTH_TOKEN);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex pa1 justify-between nowrap orange\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-fixed white\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fw7 mr1\",children:\"GIMEBA NEWS\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",className:\"ml1 no-underline white\",children:\"new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ml1\",children:\"|\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/top\",className:\"ml1 no-underline white\",children:\"top\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ml1\",children:\"|\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/search\",className:\"ml1 no-underline white\",children:\"search\"}),authToken&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ml1\",children:\"|\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/create\",className:\"ml1 no-underline white\",children:\"submit\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"flex flex-fixed\",children:authToken?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ml1 pointer white\",onClick:function onClick(){localStorage.removeItem(AUTH_TOKEN);history.push(\"/\");},children:\"logout\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",className:\"ml1 no-underline white\",children:\"login\"})})]});};/* harmony default export */ var components_Header = (Header_Header);\n// CONCATENATED MODULE: ./src/components/Login.js\nvar Login_templateObject,_templateObject2;var SIGNUP_MUTATION=Object(lib[\"a\" /* default */])(Login_templateObject||(Login_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\nmutation SignupMutation(\\n  $email: String!\\n  $password: String!\\n  $username: String!\\n) {\\n  createUser(\\n    email: $email\\n    password: $password\\n    username: $username\\n  ) {\\n   user{\\n    id\\n    email\\n    password\\n    username\\n  }\\n  }\\n\\n \\n\\n  tokenAuth(username: $username,password: $password){\\n  token\\n  }\\n}\\n\"])));var LOGIN_MUTATION=Object(lib[\"a\" /* default */])(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  mutation TokenAuth(\\n    $username: String!\\n    $password: String!\\n  ) {\\n    tokenAuth(username: $username, password: $password) {\\n      token\\n    }\\n  }\\n\"])));var Login_Login=function Login(){var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])({login:true,email:'',password:'',name:''}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];var _useMutation=Object(useMutation[\"a\" /* useMutation */])(LOGIN_MUTATION,{variables:{username:formState.email,password:formState.password},onCompleted:function onCompleted(_ref){var tokenAuth=_ref.tokenAuth;console.log(tokenAuth);localStorage.setItem(AUTH_TOKEN,tokenAuth.token);history.push('/');}}),_useMutation2=Object(slicedToArray[\"a\" /* default */])(_useMutation,1),login=_useMutation2[0];function refreshPage(){window.location.reload(true);}var _useMutation3=Object(useMutation[\"a\" /* useMutation */])(SIGNUP_MUTATION,{variables:{username:formState.name,email:formState.email,password:formState.password},onCompleted:function onCompleted(_ref2){var tokenAuth=_ref2.tokenAuth;localStorage.setItem(AUTH_TOKEN,tokenAuth.token);history.push('/');}}),_useMutation4=Object(slicedToArray[\"a\" /* default */])(_useMutation3,1),signup=_useMutation4[0];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{className:\"mv3\",children:formState.login?'Login':'Sign Up'}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex flex-column\",children:[!formState.login&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formState.name,onChange:function onChange(e){return setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{name:e.target.value}));},type:\"text\",placeholder:\"Your name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formState.email,onChange:function onChange(e){return setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{email:e.target.value}));},type:\"text\",placeholder:\"Your name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:formState.password,onChange:function onChange(e){return setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{password:e.target.value}));},type:\"password\",placeholder:\"Choose a safe password\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"flex mt3\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pointer mr2 button\",onClick:function onClick(){//formState.login ? login : signup ()\nif(formState.login){login(formState.username,formState.password).then(function(){window.location.reload();});}else{signup(formState.name,formState.password);}},children:formState.login?'login':'create account'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"pointer button\",onClick:function onClick(e){return setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{login:!formState.login}));},children:formState.login?'need to create an account?':'already have an account?'})]})]});};/* harmony default export */ var components_Login = (Login_Login);\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/hooks/useLazyQuery.js\nvar useLazyQuery = __webpack_require__(111);\n\n// CONCATENATED MODULE: ./src/components/Search.js\nvar Search_templateObject;var FEED_SEARCH_QUERY=Object(lib[\"a\" /* default */])(Search_templateObject||(Search_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n  query FeedSearchQuery($search: String) {\\n  links(search: $search){\\n      id\\n      url\\n        description\\n        postedBy {\\n          id\\n          username\\n        }\\n        votes {\\n          edges{\\n            node{\\n              id\\n               user {\\n                id\\n            }\\n            }\\n          }\\n\\n \\n\\n        }\\n       # createdAt\\n  }\\n}\\n\"])));var Search_Search=function Search(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchFilter=_useState2[0],setSearchFilter=_useState2[1];var _useLazyQuery=Object(useLazyQuery[\"a\" /* useLazyQuery */])(FEED_SEARCH_QUERY),_useLazyQuery2=Object(slicedToArray[\"a\" /* default */])(_useLazyQuery,2),executeSearch=_useLazyQuery2[0],data=_useLazyQuery2[1].data;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Search\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",onChange:function onChange(e){return setSearchFilter(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return executeSearch({variables:{search:searchFilter}});},children:\"OK\"})]}),data&&data.links.map(function(link,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Link,{link:link,index:index},link.id);})]});};/* harmony default export */ var components_Search = (Search_Search);\n// CONCATENATED MODULE: ./src/components/App.js\nvar App_App=function App(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"center w85\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Header,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ph3 pv1 background-gray\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",render:function render(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/new/1\"});}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/create\",component:components_CreateLink}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",component:components_Login}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/search\",component:components_Search})]})})]});};/* harmony default export */ var components_App = (App_App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\nvar isLocalhost=Boolean(window.location.hostname==='localhost'||// [::1] is the IPv6 localhost address.\nwindow.location.hostname==='[::1]'||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function register(config){if( true&&'serviceWorker'in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener('load',function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log('This web app is being served cache-first by a service '+'worker. To learn more, visit https://bit.ly/CRA-PWA');});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state==='installed'){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log('New content is available and will be used when all '+'tabs for this page are closed. See https://bit.ly/CRA-PWA.');// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log('Content is cached for offline use.');// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error('Error during service worker registration:',error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{'Service-Worker':'script'}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get('content-type');if(response.status===404||contentType!=null&&contentType.indexOf('javascript')===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log('No internet connection found. App is running in offline mode.');});}function unregister(){if('serviceWorker'in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/context/index.js\nvar context = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/error/index.js\nvar error = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/link/http/createHttpLink.js + 8 modules\nvar createHttpLink = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/core/ApolloClient.js + 8 modules\nvar ApolloClient = __webpack_require__(51);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/index.js\nvar client = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/cache/inmemory/inMemoryCache.js + 4 modules\nvar inMemoryCache = __webpack_require__(99);\n\n// EXTERNAL MODULE: ./node_modules/@apollo/client/react/context/ApolloProvider.js\nvar ApolloProvider = __webpack_require__(97);\n\n// CONCATENATED MODULE: ./src/index.js\n// 1\nvar httpLink=Object(createHttpLink[\"a\" /* createHttpLink */])({uri:'http://35.232.232.192:8090/graphql/'});var authLink=Object(context[\"a\" /* setContext */])(function(_,_ref){var headers=_ref.headers;var token=localStorage.getItem(AUTH_TOKEN);return{headers:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},headers),{},{authorization:token?\"JWT \".concat(token):''})};});var errorLink=Object(error[\"a\" /* onError */])(function(_ref2){var graphQLErrors=_ref2.graphQLErrors,networkError=_ref2.networkError;if(graphQLErrors)graphQLErrors.forEach(function(_ref3){var message=_ref3.message,locations=_ref3.locations,path=_ref3.path;return console.log(\"[GraphQL error]: Message: \".concat(message,\", Location: \").concat(locations,\", Path: \").concat(path));});if(networkError)console.log(\"[Network error]: \".concat(networkError));});// 3\nvar src_client=new ApolloClient[\"a\" /* ApolloClient */]({link:Object(client[\"from\"])([authLink,errorLink,httpLink]),cache:new inMemoryCache[\"a\" /* InMemoryCache */]()});// 4\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ApolloProvider[\"a\" /* ApolloProvider */],{client:src_client,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_App,{})}),\",\"]}),document.getElementById('root'));unregister();\n\n/***/ })\n\n},[[98,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/gimeba/hackernews-react-apollo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/gimeba/hackernews-react-apollo/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/gimeba/hackernews-react-apollo/node_modules/postcss-loader/src/index.js??postcss!/home/gimeba/hackernews-react-apollo/src/styles/index.css","/home/gimeba/hackernews-react-apollo/src/constants.js","/home/gimeba/hackernews-react-apollo/src/utils.js","/home/gimeba/hackernews-react-apollo/src/components/Link.js","/home/gimeba/hackernews-react-apollo/src/components/LinkList.js","/home/gimeba/hackernews-react-apollo/src/components/CreateLink.js","/home/gimeba/hackernews-react-apollo/src/components/Header.js","/home/gimeba/hackernews-react-apollo/src/components/Login.js","/home/gimeba/hackernews-react-apollo/src/components/Search.js","/home/gimeba/hackernews-react-apollo/src/components/App.js","/home/gimeba/hackernews-react-apollo/src/serviceWorker.js","/home/gimeba/hackernews-react-apollo/src/index.js"],"names":["AUTH_TOKEN","LINKS_PER_PAGE","timeDifference","current","previous","milliSecondsPerMinute","milliSecondsPerHour","milliSecondsPerDay","milliSecondsPerMonth","milliSecondsPerYear","elapsed","Math","round","timeDifferenceForDate","date","now","Date","getTime","updated","VOTE_MUTATION","gql","Link","props","link","authToken","localStorage","getItem","take","skip","orderBy","createdAt","useMutation","variables","linkId","id","onCompleted","createVote","console","log","update","cache","vote","data","readQuery","query","FEED_QUERY","links","updatedLinks","map","feedLink","votes","edges","writeQuery","feed","index","cursor","description","url","length","postedBy","username","toLocaleString","LinkList","useQuery","CREATE_LINK_MUTATION","CreateLink","history","useHistory","useState","formState","setFormState","post","push","createLink","clickHistory","window","location","reload","refreshPage","e","preventDefault","target","value","Header","removeItem","SIGNUP_MUTATION","LOGIN_MUTATION","Login","login","email","password","name","tokenAuth","setItem","token","signup","then","FEED_SEARCH_QUERY","Search","searchFilter","setSearchFilter","useLazyQuery","executeSearch","search","App","isLocalhost","Boolean","hostname","match","register","config","process","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","fetch","headers","response","contentType","get","status","indexOf","unregister","message","httpLink","createHttpLink","uri","authLink","setContext","_","authorization","errorLink","onError","graphQLErrors","networkError","forEach","locations","path","client","ApolloClient","from","InMemoryCache","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAO,GAAMA,WAAU,CAAG,YAAnB,CACA,GAAMC,eAAc,CAAG,CAAvB,C;;;;;;;;;;;ACDP,QAASC,eAAT,CAAwBC,OAAxB,CAAiCC,QAAjC,CAA2C,CACvC,GAAMC,sBAAqB,CAAG,GAAK,IAAnC,CACA,GAAMC,oBAAmB,CAAGD,qBAAqB,CAAG,EAApD,CACA,GAAME,mBAAkB,CAAGD,mBAAmB,CAAG,EAAjD,CACA,GAAME,qBAAoB,CAAGD,kBAAkB,CAAG,EAAlD,CACA,GAAME,oBAAmB,CAAGF,kBAAkB,CAAG,GAAjD,CAEA,GAAMG,QAAO,CAAGP,OAAO,CAAGC,QAA1B,CAEA,GAAIM,OAAO,CAAGL,qBAAqB,CAAG,CAAtC,CAAyC,CACvC,MAAO,UAAP,CACD,CAED,GAAIK,OAAO,CAAGL,qBAAd,CAAqC,CACnC,MAAO,qBAAP,CACD,CAFD,IAEO,IAAIK,OAAO,CAAGJ,mBAAd,CAAmC,CACxC,MACEK,KAAI,CAACC,KAAL,CAAWF,OAAO,CAAGL,qBAArB,EACA,UAFF,CAID,CALM,IAKA,IAAIK,OAAO,CAAGH,kBAAd,CAAkC,CACvC,MACEI,KAAI,CAACC,KAAL,CAAWF,OAAO,CAAGJ,mBAArB,EAA4C,QAD9C,CAGD,CAJM,IAIA,IAAII,OAAO,CAAGF,oBAAd,CAAoC,CACzC,MACEG,KAAI,CAACC,KAAL,CAAWF,OAAO,CAAGH,kBAArB,EAA2C,WAD7C,CAGD,CAJM,IAIA,IAAIG,OAAO,CAAGD,mBAAd,CAAmC,CACxC,MACEE,KAAI,CAACC,KAAL,CAAWF,OAAO,CAAGF,oBAArB,EAA6C,SAD/C,CAGD,CAJM,IAIA,CACL,MACEG,KAAI,CAACC,KAAL,CAAWF,OAAO,CAAGD,mBAArB,EACA,YAFF,CAID,CACF,CAEM,QAASI,sBAAT,CAA+BC,IAA/B,CAAqC,CAC1C,GAAMC,IAAG,CAAG,GAAIC,KAAJ,GAAWC,OAAX,EAAZ,CACA,GAAMC,QAAO,CAAG,GAAIF,KAAJ,CAASF,IAAT,EAAeG,OAAf,EAAhB,CACA,MAAOf,eAAc,CAACa,GAAD,CAAMG,OAAN,CAArB,CACD,C;;;;;oBCrCH,GAAMC,cAAa,CAAGC,8BAAH,qSAAnB,CAeA,GAAMC,UAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAW,CACtB,GAAQC,KAAR,CAAiBD,KAAjB,CAAQC,IAAR,CACA,GAAMC,UAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB1B,UAArB,CAAlB,CAEA,GAAM2B,KAAI,CAAG1B,cAAb,CACA,GAAM2B,KAAI,CAAG,CAAb,CACA,GAAMC,QAAO,CAAG,CAAEC,SAAS,CAAE,MAAb,CAAhB,CAEA,iBAAeC,0CAAW,CAACZ,aAAD,CAAgB,CACxCa,SAAS,CAAE,CACTC,MAAM,CAAEV,IAAI,CAACW,EADJ,CAD6B,CAIxCC,WAAW,CAAE,0BAAoB,IAAjBC,WAAiB,MAAjBA,UAAiB,CAC/BC,OAAO,CAACC,GAAR,CAAYF,UAAZ,EACD,CANuC,CAOzCG,MAPyC,iBAOlCC,KAPkC,OAOP,IAAVC,KAAU,OAAlBC,IAAkB,CAAVD,IAAU,CAC/B,qBAAkBD,KAAK,CAACG,SAAN,CAAgB,CAChCC,KAAK,CAAEC,UADyB,CAAhB,CAAlB,CAAQC,KAAR,kBAAQA,KAAR,CAIF,GAAMC,aAAY,CAAGD,KAAK,CAACE,GAAN,CAAU,SAACC,QAAD,CAAc,CACzC,GAAIA,QAAQ,CAACf,EAAT,GAAgBX,IAAI,CAACW,EAAzB,CAA6B,CAC3B,OAAO,qFACFe,QADL,MAEEC,KAAK,wDAAMD,QAAQ,CAACC,KAAT,CAAeC,KAArB,GAA4BV,IAA5B,EAFP,GAID,CACD,MAAOQ,SAAP,CACD,CARkB,CAArB,CAWAT,KAAK,CAACY,UAAN,CAAiB,CACbR,KAAK,CAAEC,UADM,CAEbH,IAAI,CAAE,CACJW,IAAI,CAAE,CACJP,KAAK,CAAEC,YADH,CADF,CAFO,CAAjB,EAQD,CA/ByC,CAAhB,CAA1B,wEAAON,IAAP,kBAkCA,mBACE,mCAAK,SAAS,CAAC,sBAAf,wBACE,mCAAK,SAAS,CAAC,mBAAf,wBAEE,oCAAM,SAAS,CAAC,MAAhB,WAAwBnB,KAAK,CAACgC,KAAN,CAAc,CAAtC,OAFF,CAIG9B,SAAS,eACR,kCACE,SAAS,CAAC,cADZ,CAEE,KAAK,CAAE,CAAE+B,MAAM,CAAE,SAAV,CAFT,CAGE,OAAO,CAAEd,IAHX,oBALJ,GADF,cAeE,mCAAK,SAAS,CAAC,KAAf,wBACE,6CACClB,IAAI,CAACW,EADN,OACaX,IAAI,CAACiC,WADlB,MACiCjC,IAAI,CAACkC,GADtC,OADF,CAIGjC,SAAS,eACR,mCAAK,SAAS,CAAC,iBAAf,WACGD,IAAI,CAAC2B,KAAL,CAAWC,KAAX,CAAiBO,MADpB,eACuC,GADvC,CAEGnC,IAAI,CAACoC,QAAL,CAAgBpC,IAAI,CAACoC,QAAL,CAAcC,QAA9B,CAAyC,SAF5C,CAEuD,GAFvD,CAGG/C,qBAAqB,CAACG,IAAI,GAAG6C,cAAP,EAAD,CAHxB,GALJ,GAfF,GADF,CA8BD,CAxED,CA0EexC,6DAAf,E;;4BCpFO,GAAMwB,WAAU,CAAGzB,8BAAH,6YAAhB,CAgCP,GAAM0C,kBAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,cAAiBC,oCAAQ,CAAClB,UAAD,CAAzB,CAAQH,IAAR,WAAQA,IAAR,CAIA,mBACA,2CACCA,IAAI,eACH,6DACGA,IAAI,CAACI,KAAL,CAAWE,GAAX,CAAe,SAACzB,IAAD,CAAO+B,KAAP,qBACd,2BAAC,eAAD,EAAoB,IAAI,CAAE/B,IAA1B,CAAgC,KAAK,CAAE+B,KAAvC,EAAW/B,IAAI,CAACW,EAAhB,CADc,EAAf,CADH,EAFF,EADA,CAWD,CAhBH,CAoBe4B,yEAAf,E;;;;;8BCzDA,GAAME,qBAAoB,CAAG5C,8BAAH,0SAA1B,CAaA,GAAM6C,sBAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,GAAMC,QAAO,CAAGC,0CAAU,EAA1B,CACA,cAAkCC,yBAAQ,CAAC,CACzCZ,WAAW,CAAE,EAD4B,CAEzCC,GAAG,CAAE,EAFoC,CAAD,CAA1C,kEAAOY,SAAP,eAAkBC,YAAlB,eAMD,iBAAqBvC,0CAAW,CAACiC,oBAAD,CAAuB,CACpDhC,SAAS,CAAE,CACTwB,WAAW,CAAEa,SAAS,CAACb,WADd,CAETC,GAAG,CAAEY,SAAS,CAACZ,GAFN,CADyC,CAKpDlB,MAAM,CAAE,gBAACC,KAAD,MAA+B,IAAb+B,KAAa,MAArB7B,IAAqB,CAAb6B,IAAa,CACrC,GAAM5C,KAAI,CAAG1B,cAAb,CACA,GAAM2B,KAAI,CAAG,CAAb,CACA,GAAMC,QAAO,CAAG,CAAEC,SAAS,CAAE,MAAb,CAAhB,CAEA,GAAMY,KAAI,CAAGF,KAAK,CAACG,SAAN,CAAgB,CAC3BC,KAAK,CAAEC,UADoB,CAE3Bb,SAAS,CAAE,CACTL,IAAI,CAAJA,IADS,CAETC,IAAI,CAAJA,IAFS,CAGTC,OAAO,CAAPA,OAHS,CAFgB,CAAhB,CAAb,CASAW,KAAK,CAACY,UAAN,CAAiB,CACfR,KAAK,CAAEC,UADQ,CAEfH,IAAI,CAAE,CACJW,IAAI,CAAE,CACJP,KAAK,EAAGyB,IAAH,sDAAY7B,IAAI,CAACW,IAAL,CAAUP,KAAtB,EADD,CADF,CAFS,CAOfd,SAAS,CAAE,CACTL,IAAI,CAAJA,IADS,CAETC,IAAI,CAAJA,IAFS,CAGTC,OAAO,CAAPA,OAHS,CAPI,CAAjB,EAaD,CAhCmD,CAiCpDM,WAAW,CAAE,6BAAM+B,QAAO,CAACM,IAAR,CAAa,QAAb,CAAN,EAjCuC,CAAvB,CAAhC,wEAAOC,UAAP,kBAsCD;AACE,QAASC,aAAT,EAAuB,CACrBR,OAAO,CAACM,IAAR,CAAa,GAAb,EACAG,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACD,QAASC,YAAT,EAAsB,CACpBH,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CACD,mBACE,wDACE,oCACE,QAAQ,CAAE,kBAACE,CAAD,CAAO,CACfA,CAAC,CAACC,cAAF,GACAP,UAAU,GACX,CAJH,wBAME,mCAAK,SAAS,CAAC,sBAAf,wBACE,oCACE,SAAS,CAAC,KADZ,CAEE,KAAK,CAAEJ,SAAS,CAACb,WAFnB,CAGE,QAAQ,CAAE,kBAACuB,CAAD,QACRT,aAAY,CAAC,qFACRD,SADO,MAEVb,WAAW,CAAEuB,CAAC,CAACE,MAAF,CAASC,KAFZ,GADJ,EAHZ,CASE,IAAI,CAAC,MATP,CAUE,WAAW,CAAC,4BAVd,EADF,cAaE,oCACE,SAAS,CAAC,KADZ,CAEE,KAAK,CAAEb,SAAS,CAACZ,GAFnB,CAGE,QAAQ,CAAE,kBAACsB,CAAD,QACRT,aAAY,CAAC,qFACRD,SADO,MAEVZ,GAAG,CAAEsB,CAAC,CAACE,MAAF,CAASC,KAFJ,GADJ,EAHZ,CASE,IAAI,CAAC,MATP,CAUE,WAAW,CAAC,sBAVd,EAbF,GANF,cAgCE,qCAAQ,IAAI,CAAC,QAAb,CAAuB,OAAO,CAAG,kBAAM,CACvCT,UAAU,GACRC,YAAY,GAAG;AAEhB,CAJD,oBAhCF,GADF,EADF,CA0CD,CAhGD,CAkGeT,+EAAf,E;;;;;ACpHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAEA,GAAMkB,cAAM,CAAG,QAATA,OAAS,EAAM,CACnB,GAAMjB,QAAO,CAAGC,0CAAU,EAA1B,CACA,GAAM3C,UAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB1B,UAArB,CAAlB,CAEA,mBACE,mCAAK,SAAS,CAAC,wCAAf,wBACE,mCAAK,SAAS,CAAC,uBAAf,wBACE,kCAAK,SAAS,CAAC,SAAf,yBADF,cAEE,2BAAC,gCAAD,EAAM,EAAE,CAAC,GAAT,CAAa,SAAS,CAAC,wBAAvB,iBAFF,cAKE,kCAAK,SAAS,CAAC,KAAf,eALF,cAME,2BAAC,gCAAD,EAAM,EAAE,CAAC,MAAT,CAAgB,SAAS,CAAC,wBAA1B,iBANF,cASE,kCAAK,SAAS,CAAC,KAAf,eATF,cAUE,2BAAC,gCAAD,EACE,EAAE,CAAC,SADL,CAEE,SAAS,CAAC,wBAFZ,oBAVF,CAgBGwB,SAAS,eACR,mCAAK,SAAS,CAAC,MAAf,wBACE,kCAAK,SAAS,CAAC,KAAf,eADF,cAEE,2BAAC,gCAAD,EACE,EAAE,CAAC,SADL,CAEE,SAAS,CAAC,wBAFZ,oBAFF,GAjBJ,GADF,cA6BE,kCAAK,SAAS,CAAC,iBAAf,UACGA,SAAS,cACR,kCACE,SAAS,CAAC,mBADZ,CAEE,OAAO,CAAE,kBAAM,CACbC,YAAY,CAAC2D,UAAb,CAAwBpF,UAAxB,EACAkE,OAAO,CAACM,IAAR,MACD,CALH,oBADQ,cAWR,2BAAC,gCAAD,EACE,EAAE,CAAC,QADL,CAEE,SAAS,CAAC,wBAFZ,mBAZJ,EA7BF,GADF,CAsDD,CA1DD,CA6DeW,mEAAf,E;;0CCrHA,GAAME,gBAAe,CAAGjE,8BAAH,kbAArB,CA6BA,GAAMkE,eAAc,CAAGlE,8BAAH,iQAApB,CAeA,GAAMmE,YAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,GAAMrB,QAAO,CAAGC,0CAAU,EAA1B,CACA,cAAkCC,yBAAQ,CAAC,CACzCoB,KAAK,CAAE,IADkC,CAEzCC,KAAK,CAAE,EAFkC,CAGzCC,QAAQ,CAAE,EAH+B,CAIzCC,IAAI,CAAE,EAJmC,CAAD,CAA1C,kEAAOtB,SAAP,eAAkBC,YAAlB,eASF,iBAAgBvC,0CAAW,CAACuD,cAAD,CAAiB,CAC1CtD,SAAS,CAAE,CACT4B,QAAQ,CAAES,SAAS,CAACoB,KADX,CAETC,QAAQ,CAAErB,SAAS,CAACqB,QAFX,CAD+B,CAK1CvD,WAAW,CAAE,0BAAmB,IAAhByD,UAAgB,MAAhBA,SAAgB,CAC9BvD,OAAO,CAACC,GAAR,CAAYsD,SAAZ,EACAnE,YAAY,CAACoE,OAAb,CAAqB7F,UAArB,CAAiC4F,SAAS,CAACE,KAA3C,EACA5B,OAAO,CAACM,IAAR,CAAa,GAAb,EACD,CATyC,CAAjB,CAA3B,wEAAOgB,KAAP,kBAeA,QAASV,YAAT,EAAsB,CACpBH,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,IAAvB,EACD,CAID,kBAAiB9C,0CAAW,CAACsD,eAAD,CAAkB,CAC5CrD,SAAS,CAAE,CACT4B,QAAQ,CAAES,SAAS,CAACsB,IADX,CAETF,KAAK,CAAEpB,SAAS,CAACoB,KAFR,CAGTC,QAAQ,CAAErB,SAAS,CAACqB,QAHX,CADiC,CAM5CvD,WAAW,CAAE,2BAAmB,IAAhByD,UAAgB,OAAhBA,SAAgB,CAC9BnE,YAAY,CAACoE,OAAb,CAAqB7F,UAArB,CAAiC4F,SAAS,CAACE,KAA3C,EACA5B,OAAO,CAACM,IAAR,CAAa,GAAb,EAID,CAZ2C,CAAlB,CAA5B,yEAAOuB,MAAP,kBAmBE,mBACE,0DACE,iCAAI,SAAS,CAAC,KAAd,UACG1B,SAAS,CAACmB,KAAV,CAAkB,OAAlB,CAA4B,SAD/B,EADF,cAIE,mCAAK,SAAS,CAAC,kBAAf,WACG,CAACnB,SAAS,CAACmB,KAAX,eACC,oCACE,KAAK,CAAEnB,SAAS,CAACsB,IADnB,CAEE,QAAQ,CAAE,kBAACZ,CAAD,QACRT,aAAY,CAAC,qFACRD,SADO,MAEVsB,IAAI,CAAEZ,CAAC,CAACE,MAAF,CAASC,KAFL,GADJ,EAFZ,CAQE,IAAI,CAAC,MARP,CASE,WAAW,CAAC,WATd,EAFJ,cAcE,oCACE,KAAK,CAAEb,SAAS,CAACoB,KADnB,CAEE,QAAQ,CAAE,kBAACV,CAAD,QACRT,aAAY,CAAC,qFACRD,SADO,MAEVoB,KAAK,CAAEV,CAAC,CAACE,MAAF,CAASC,KAFN,GADJ,EAFZ,CAQE,IAAI,CAAC,MARP,CASE,WAAW,CAAC,WATd,EAdF,cAyBE,oCACE,KAAK,CAAEb,SAAS,CAACqB,QADnB,CAEE,QAAQ,CAAE,kBAACX,CAAD,QACRT,aAAY,CAAC,qFACRD,SADO,MAEVqB,QAAQ,CAAEX,CAAC,CAACE,MAAF,CAASC,KAFT,GADJ,EAFZ,CAQE,IAAI,CAAC,UARP,CASE,WAAW,CAAC,wBATd,EAzBF,GAJF,cAyCE,mCAAK,SAAS,CAAC,UAAf,wBAIN,qCACI,SAAS,CAAC,oBADd,CAEI,OAAO,CAAE,kBAAM,CACb;AACA,GAAIb,SAAS,CAACmB,KAAd,CAAsB,CACpBA,KAAK,CAACnB,SAAS,CAACT,QAAX,CAAqBS,SAAS,CAACqB,QAA/B,CAAL,CAA+CM,IAA/C,CAAoD,UAAI,CACtDrB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAID,CALD,EASD,CAVD,IAUO,CACLkB,MAAM,CAAC1B,SAAS,CAACsB,IAAX,CAAiBtB,SAAS,CAACqB,QAA3B,CAAN,CACD,CACF,CAjBL,UAmBKrB,SAAS,CAACmB,KAAV,CAAkB,OAAlB,CAA4B,gBAnBjC,EAJM,cA6BJ,qCACE,SAAS,CAAC,gBADZ,CAEE,OAAO,CAAE,iBAACT,CAAD,QACPT,aAAY,CAAC,qFACRD,SADO,MAEVmB,KAAK,CAAE,CAACnB,SAAS,CAACmB,KAFR,GADL,EAFX,UASSnB,SAAS,CAACmB,KAAV,CACG,4BADH,CAEG,0BAXZ,EA7BI,GAzCF,GADF,CAuFD,CA1ID,CA8IeD,gEAAf,E;;;;;0BC1LA,GAAMU,kBAAiB,CAAG7E,8BAAH,ueAAvB,CA8BA,GAAM8E,cAAM,CAAG,QAATA,OAAS,EAAM,CACnB,cAAwC9B,yBAAQ,CAAC,EAAD,CAAhD,kEAAO+B,YAAP,eAAqBC,eAArB,eACA,kBAAkCC,4CAAY,CAC5CJ,iBAD4C,CAA9C,0EAAOK,aAAP,mBAAwB5D,IAAxB,mBAAwBA,IAAxB,CAMA,mBACE,4EACE,mEAEE,oCACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAE,kBAACqC,CAAD,QAAOqB,gBAAe,CAACrB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAtB,EAFZ,EAFF,cAME,qCACE,OAAO,CAAE,yBACPoB,cAAa,CAAC,CACZtE,SAAS,CAAE,CAAEuE,MAAM,CAAEJ,YAAV,CADC,CAAD,CADN,EADX,gBANF,GADF,CAiBGzD,IAAI,EACHA,IAAI,CAACI,KAAL,CAAWE,GAAX,CAAe,SAACzB,IAAD,CAAO+B,KAAP,qBACb,2BAAC,eAAD,EAAoB,IAAI,CAAE/B,IAA1B,CAAgC,KAAK,CAAE+B,KAAvC,EAAW/B,IAAI,CAACW,EAAhB,CADa,EAAf,CAlBJ,GADF,CAwBD,CAhCD,CAiCegE,mEAAf,E;;AC7DA,GAAMM,QAAG,CAAG,QAANA,IAAM,sBACV,mCAAK,SAAS,CAAC,YAAf,wBACE,2BAAC,iBAAD,IADF,cAEE,kCAAK,SAAS,CAAC,yBAAf,uBACE,4BAAC,8BAAD,yBACE,2BAAC,6BAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGG,MAAM,CAAE,qCAAM,2BAAC,gCAAD,EAAU,EAAE,CAAC,QAAb,EAAN,EAHX,EADF,cAME,2BAAC,6BAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,SAFP,CAGE,SAAS,CAAEvC,qBAHb,EANF,cAWE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,QAAlB,CAA2B,SAAS,CAAEsB,gBAAtC,EAXF,cAYE,2BAAC,6BAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,SAAS,CAAEW,iBAAvC,EAZF,GADF,EAFF,GADU,EAAZ,CAsBeM,0DAAf,E;;ACjCA,GAAMC,YAAW,CAAGC,OAAO,CACzB/B,MAAM,CAACC,QAAP,CAAgB+B,QAAhB,GAA6B,WAA7B,EACE;AACAhC,MAAM,CAACC,QAAP,CAAgB+B,QAAhB,GAA6B,OAF/B,EAGE;AACAhC,MAAM,CAACC,QAAP,CAAgB+B,QAAhB,CAAyBC,KAAzB,CACE,wDADF,CALuB,CAA3B,CAUO,QAASC,SAAT,CAAkBC,MAAlB,CAA0B,CAC/B,GAAIC,KAAA,EAAyC,iBAAmBC,UAAhE,CAA2E,CACzE;AACA,GAAMC,UAAS,CAAG,GAAIC,IAAJ,CAAQH,EAAR,CAAgCpC,MAAM,CAACC,QAAP,CAAgBuC,IAAhD,CAAlB,CACA,GAAIF,SAAS,CAACG,MAAV,GAAqBzC,MAAM,CAACC,QAAP,CAAgBwC,MAAzC,CAAiD,CAC/C;AACA;AACA;AACA,OACD,CAEDzC,MAAM,CAAC0C,gBAAP,CAAwB,MAAxB,CAAgC,UAAM,CACpC,GAAMC,MAAK,WAAMP,EAAN,sBAAX,CAEA,GAAIN,WAAJ,CAAiB,CACf;AACAc,uBAAuB,CAACD,KAAD,CAAQR,MAAR,CAAvB,CAEA;AACA;AACAE,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8BzB,IAA9B,CAAmC,UAAM,CACvC3D,OAAO,CAACC,GAAR,CACE,yDACE,qDAFJ,EAID,CALD,EAMD,CAZD,IAYO,CACL;AACAoF,eAAe,CAACJ,KAAD,CAAQR,MAAR,CAAf,CACD,CACF,CAnBD,EAoBD,CACF,CAED,QAASY,gBAAT,CAAyBJ,KAAzB,CAAgCR,MAAhC,CAAwC,CACtCE,SAAS,CAACQ,aAAV,CACGX,QADH,CACYS,KADZ,EAEGtB,IAFH,CAEQ,SAAA2B,YAAY,CAAI,CACpBA,YAAY,CAACC,aAAb,CAA6B,UAAM,CACjC,GAAMC,iBAAgB,CAAGF,YAAY,CAACG,UAAtC,CACA,GAAID,gBAAgB,EAAI,IAAxB,CAA8B,CAC5B,OACD,CACDA,gBAAgB,CAACE,aAAjB,CAAiC,UAAM,CACrC,GAAIF,gBAAgB,CAACG,KAAjB,GAA2B,WAA/B,CAA4C,CAC1C,GAAIhB,SAAS,CAACQ,aAAV,CAAwBS,UAA5B,CAAwC,CACtC;AACA;AACA;AACA5F,OAAO,CAACC,GAAR,CACE,sDACE,4DAFJ,EAKA;AACA,GAAIwE,MAAM,EAAIA,MAAM,CAACoB,QAArB,CAA+B,CAC7BpB,MAAM,CAACoB,QAAP,CAAgBP,YAAhB,EACD,CACF,CAbD,IAaO,CACL;AACA;AACA;AACAtF,OAAO,CAACC,GAAR,CAAY,oCAAZ,EAEA;AACA,GAAIwE,MAAM,EAAIA,MAAM,CAACqB,SAArB,CAAgC,CAC9BrB,MAAM,CAACqB,SAAP,CAAiBR,YAAjB,EACD,CACF,CACF,CACF,CA3BD,CA4BD,CAjCD,CAkCD,CArCH,EAsCGS,KAtCH,CAsCS,SAAAC,KAAK,CAAI,CACdhG,OAAO,CAACgG,KAAR,CAAc,2CAAd,CAA2DA,KAA3D,EACD,CAxCH,EAyCD,CAED,QAASd,wBAAT,CAAiCD,KAAjC,CAAwCR,MAAxC,CAAgD,CAC9C;AACAwB,KAAK,CAAChB,KAAD,CAAQ,CACXiB,OAAO,CAAE,CAAE,iBAAkB,QAApB,CADE,CAAR,CAAL,CAGGvC,IAHH,CAGQ,SAAAwC,QAAQ,CAAI,CAChB;AACA,GAAMC,YAAW,CAAGD,QAAQ,CAACD,OAAT,CAAiBG,GAAjB,CAAqB,cAArB,CAApB,CACA,GACEF,QAAQ,CAACG,MAAT,GAAoB,GAApB,EACCF,WAAW,EAAI,IAAf,EAAuBA,WAAW,CAACG,OAAZ,CAAoB,YAApB,IAAsC,CAAC,CAFjE,CAGE,CACA;AACA5B,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CAA8BzB,IAA9B,CAAmC,SAAA2B,YAAY,CAAI,CACjDA,YAAY,CAACkB,UAAb,GAA0B7C,IAA1B,CAA+B,UAAM,CACnCrB,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACD,CAFD,EAGD,CAJD,EAKD,CAVD,IAUO,CACL;AACA6C,eAAe,CAACJ,KAAD,CAAQR,MAAR,CAAf,CACD,CACF,CApBH,EAqBGsB,KArBH,CAqBS,UAAM,CACX/F,OAAO,CAACC,GAAR,CACE,+DADF,EAGD,CAzBH,EA0BD,CAEM,QAASuG,WAAT,EAAsB,CAC3B,GAAI,iBAAmB7B,UAAvB,CAAkC,CAChCA,SAAS,CAACQ,aAAV,CAAwBC,KAAxB,CACGzB,IADH,CACQ,SAAA2B,YAAY,CAAI,CACpBA,YAAY,CAACkB,UAAb,GACD,CAHH,EAIGT,KAJH,CAIS,SAAAC,KAAK,CAAI,CACdhG,OAAO,CAACgG,KAAR,CAAcA,KAAK,CAACS,OAApB,EACD,CANH,EAOD,CACF,C;;;;;;;;;;;;;;;;;;;;;;;ACrHD;AAYA,GAAMC,SAAQ,CAAGC,gDAAc,CAAC,CAC9BC,GAAG,CAAE,qCADyB,CAAD,CAA/B,CAIA,GAAMC,SAAQ,CAAGC,qCAAU,CAAC,SAACC,CAAD,MAAoB,IAAdb,QAAc,MAAdA,OAAc,CAC9C,GAAMzC,MAAK,CAAGrE,YAAY,CAACC,OAAb,CAAqB1B,UAArB,CAAd,CACA,MAAO,CACLuI,OAAO,CAAC,qFACHA,OADE,MAELc,aAAa,CAAEvD,KAAK,eAAUA,KAAV,EAAoB,EAFnC,EADF,CAAP,CAMD,CAR0B,CAA3B,CAUA,GAAMwD,UAAS,CAAGC,gCAAO,CAAC,eAAqC,IAAlCC,cAAkC,OAAlCA,aAAkC,CAAnBC,YAAmB,OAAnBA,YAAmB,CAC7D,GAAID,aAAJ,CACEA,aAAa,CAACE,OAAd,CAAsB,mBAAGZ,QAAH,OAAGA,OAAH,CAAYa,SAAZ,OAAYA,SAAZ,CAAuBC,IAAvB,OAAuBA,IAAvB,OACpBvH,QAAO,CAACC,GAAR,qCAC+BwG,OAD/B,wBACqDa,SADrD,oBACyEC,IADzE,EADoB,EAAtB,EAMF,GAAIH,YAAJ,CAAkBpH,OAAO,CAACC,GAAR,4BAAgCmH,YAAhC,GACnB,CATwB,CAAzB,CAUA;AACA,GAAMI,WAAM,CAAG,GAAIC,qCAAJ,CAAiB,CAC9BvI,IAAI,CAAEwI,sBAAI,CAAC,CAACb,QAAD,CAAWI,SAAX,CAAsBP,QAAtB,CAAD,CADoB,CAE9BvG,KAAK,CAAE,GAAIwH,uCAAJ,EAFuB,CAAjB,CAAf,CAOA;AACAC,mBAAQ,CAACC,MAAT,cACE,4BAAC,yCAAD,yBACE,2BAAC,wCAAD,EAAgB,MAAM,CAAEL,UAAxB,uBACE,2BAAC,cAAD,IADF,EADF,OADF,CAOEM,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAPF,EASA5C,UAAA,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","export const AUTH_TOKEN = 'auth-token';\nexport const LINKS_PER_PAGE = 5;","function timeDifference(current, previous) {\n    const milliSecondsPerMinute = 60 * 1000;\n    const milliSecondsPerHour = milliSecondsPerMinute * 60;\n    const milliSecondsPerDay = milliSecondsPerHour * 24;\n    const milliSecondsPerMonth = milliSecondsPerDay * 30;\n    const milliSecondsPerYear = milliSecondsPerDay * 365;\n  \n    const elapsed = current - previous;\n  \n    if (elapsed < milliSecondsPerMinute / 3) {\n      return 'just now';\n    }\n  \n    if (elapsed < milliSecondsPerMinute) {\n      return 'less than 1 min ago';\n    } else if (elapsed < milliSecondsPerHour) {\n      return (\n        Math.round(elapsed / milliSecondsPerMinute) +\n        ' min ago'\n      );\n    } else if (elapsed < milliSecondsPerDay) {\n      return (\n        Math.round(elapsed / milliSecondsPerHour) + ' h ago'\n      );\n    } else if (elapsed < milliSecondsPerMonth) {\n      return (\n        Math.round(elapsed / milliSecondsPerDay) + ' days ago'\n      );\n    } else if (elapsed < milliSecondsPerYear) {\n      return (\n        Math.round(elapsed / milliSecondsPerMonth) + ' mo ago'\n      );\n    } else {\n      return (\n        Math.round(elapsed / milliSecondsPerYear) +\n        ' years ago'\n      );\n    }\n  }\n  \n  export function timeDifferenceForDate(date) {\n    const now = new Date().getTime();\n    const updated = new Date(date).getTime();\n    return timeDifference(now, updated);\n  }","import React from 'react';\nimport { gql, useMutation } from '@apollo/client';\n\nimport { AUTH_TOKEN, LINKS_PER_PAGE } from '../constants';\nimport { timeDifferenceForDate } from '../utils';\nimport { FEED_QUERY } from './LinkList';\n\nconst VOTE_MUTATION = gql`\n  mutation createVote($linkId: Int!) {\n    createVote(linkId: $linkId) {\n      user {\n        username\n        email\n      }\n      link {\n        url\n        description\n      }\n    }\n  }\n`;\n\nconst Link = (props) => {\n  const { link } = props;\n  const authToken = localStorage.getItem(AUTH_TOKEN);\n\n  const take = LINKS_PER_PAGE;\n  const skip = 0;\n  const orderBy = { createdAt: 'desc' };\n\n  const [vote] = useMutation(VOTE_MUTATION, {\n    variables: {\n      linkId: link.id\n    },\n    onCompleted: ({ createVote }) => {\n      console.log(createVote);\n    },\n   update(cache, { data: { vote } }) {\n      const { links } = cache.readQuery({\n        query: FEED_QUERY\n      });\n\n    const updatedLinks = links.map((feedLink) => {\n        if (feedLink.id === link.id) {\n          return {\n            ...feedLink,\n            votes: [...feedLink.votes.edges, vote]\n          };\n        }\n        return feedLink;\n      } );\n\n\n    cache.writeQuery({\n        query: FEED_QUERY,\n        data: {\n          feed: {\n            links: updatedLinks\n          }\n        }\n    });\n  }\n})\n\n  return (\n    <div className=\"flex mt2 items-start\">\n      <div className=\"flex items-center\">\n\n        <span className=\"gray\">{props.index + 1}.</span>\n\n        {authToken && (\n          <div\n            className=\"ml1 gray f11\"\n            style={{ cursor: 'pointer' }}\n            onClick={vote}\n          >\n            ▲\n          </div>\n        )}\n      </div>\n      <div className=\"ml1\">\n        <div>\n        {link.id} - {link.description} ({link.url})\n        </div>\n        {authToken && (\n          <div className=\"f6 lh-copy gray\">\n            {link.votes.edges.length} votes | by{' '}\n            {link.postedBy ? link.postedBy.username : 'Unknown'}{' '}\n            {timeDifferenceForDate(Date().toLocaleString())}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Link;","import React from 'react';\nimport { gql, useQuery } from '@apollo/client';\nimport { useHistory } from 'react-router';\nimport { LINKS_PER_PAGE } from '../constants';\nimport Link from './Link';\n\n \n\n \n\n \n\nexport const FEED_QUERY = gql`\n  {\n  links{\n    id\n    url\n    description\n    postedBy{\n      id\n      email\n      username\n    }\n    votes{\n      edges{\n        node{\n          id\n          link{\n            id\n            url\n            description\n          }\n        }\n      }\n    }\n  }\n}\n`;\n\n \n\n \n\n\nconst LinkList = () => {\n    const { data } = useQuery(FEED_QUERY);\n\n \n\n    return (\n    <div>\n    {data && (\n      <>\n        {data.links.map((link, index) => (\n          <Link key={link.id} link={link} index={index} />\n        ))}\n      </>\n    )}\n  </div>\n    );\n  };\n\n \n\nexport default LinkList;","import React, { useState } from 'react';\nimport { gql, useMutation } from '@apollo/client';\nimport { useHistory } from 'react-router';\nimport { LINKS_PER_PAGE } from '../constants';\nimport { FEED_QUERY } from './LinkList';\n\n\nconst CREATE_LINK_MUTATION = gql`\n  mutation CreateLink(\n    $description: String!\n    $url: String!\n  ) {\n    createLink(description: $description, url: $url) {\n      id\n      url\n      description\n    }\n  }\n`;\n\nconst CreateLink = () => {\n  const history = useHistory();\n  const [formState, setFormState] = useState({\n    description: '',\n    url: ''\n  });\n\n\n const [createLink] = useMutation(CREATE_LINK_MUTATION, {\n    variables: {\n      description: formState.description,\n      url: formState.url\n    },\n    update: (cache, { data: { post } }) => {\n      const take = LINKS_PER_PAGE;\n      const skip = 0;\n      const orderBy = { createdAt: 'desc' };\n\n      const data = cache.readQuery({\n        query: FEED_QUERY,\n        variables: {\n          take,\n          skip,\n          orderBy\n        }\n      });\n\n      cache.writeQuery({\n        query: FEED_QUERY,\n        data: {\n          feed: {\n            links: [post, ...data.feed.links]\n          }\n        },\n        variables: {\n          take,\n          skip,\n          orderBy\n        }\n      });\n    },\n    onCompleted: () => history.push('/new/1')\n  });\n\n\n\n//Crea funcion para lmandar a otro componente\n  function clickHistory(){\n    history.push(\"/\");\n    window.location.reload()\n  }\n  function refreshPage(){\n    window.location.reload()\n  }\n  return (\n    <div>\n      <form\n        onSubmit={(e) => {\n          e.preventDefault();\n          createLink();\n        }}\n      >\n        <div className=\"flex flex-column mt3\">\n          <input\n            className=\"mb2\"\n            value={formState.description}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                description: e.target.value\n              })\n            }\n            type=\"text\"\n            placeholder=\"A description for the link\"\n          />\n          <input\n            className=\"mb2\"\n            value={formState.url}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                url: e.target.value\n              })\n            }\n            type=\"text\"\n            placeholder=\"The URL for the link\"\n          />\n        </div>\n        <button type=\"submit\"  onClick={ () => {\n        createLink()\n          clickHistory() //Se llama a la funcion\n\n        } }>Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default CreateLink;","import React from 'react';\nimport { useHistory } from 'react-router';\n//import { Link, withRouter } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { AUTH_TOKEN } from '../constants';\n\n/*const Header = () => {\n  const history = useHistory();\n  const authToken = localStorage.getItem(AUTH_TOKEN);\n  return (\n    <div className=\"flex pa1 justify-between nowrap orange\">\n      <div className=\"flex flex-fixed black\">\n        <div className=\"fw7 mr1\">Hacker News</div>\n        <Link to=\"/\" className=\"ml1 no-underline black\">\n          new\n        </Link>\n\t\n\t<div className=\"ml1\">|</div>\n        <Link to=\"/top\" className=\"ml1 no-underline black\">\n          top\n        </Link>\n         <div className=\"ml1\">|</div>\n        \n\t<Link\n          to=\"/search\"\n          className=\"ml1 no-underline black\"\n        >\n          search\n        </Link>\n        {authToken && (\n          <div className=\"flex\">\n            <div className=\"ml1\">|</div>\n\t<Link\n          to=\"/create\"\n          className=\"ml1 no-underline black\"\n        >\n         submit\n            </Link>\n          </div>\n        )}\n      </div>\n      <div className=\"flex flex-fixed\">\n        {authToken ? (\n          <div\n            className=\"ml1 pointer black\"\n            onClick={() => {\n              localStorage.removeItem(AUTH_TOKEN);\n              history.push(`/`);\n            }}\n          >\n            logout\n          </div>\n        ) : (\n          <Link\n            to=\"/login\"\n            className=\"ml1 no-underline black\"\n          >\n            login\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n};*/\n\nconst Header = () => {\n  const history = useHistory();\n  const authToken = localStorage.getItem(AUTH_TOKEN);\n\n  return (\n    <div className=\"flex pa1 justify-between nowrap orange\">\n      <div className=\"flex flex-fixed white\">\n        <div className=\"fw7 mr1\">GIMEBA NEWS</div>\n        <Link to=\"/\" className=\"ml1 no-underline white\">\n          new\n        </Link>\n        <div className=\"ml1\">|</div>\n        <Link to=\"/top\" className=\"ml1 no-underline white\">\n          top\n        </Link>\n        <div className=\"ml1\">|</div>\n        <Link\n          to=\"/search\"\n          className=\"ml1 no-underline white\"\n        >\n          search\n        </Link>\n        {authToken && (\n          <div className=\"flex\">\n            <div className=\"ml1\">|</div>\n            <Link\n              to=\"/create\"\n              className=\"ml1 no-underline white\"\n            >\n              submit\n            </Link>\n          </div>\n        )}\n      </div>\n      <div className=\"flex flex-fixed\">\n        {authToken ? (\n          <div\n            className=\"ml1 pointer white\"\n            onClick={() => {\n              localStorage.removeItem(AUTH_TOKEN);\n              history.push(`/`);\n            }}\n          >\n            logout\n          </div>\n        ) : (\n          <Link\n            to=\"/login\"\n            className=\"ml1 no-underline white\"\n          >\n            login\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n\n\n};\n\n\nexport default Header;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router';\nimport { useMutation, gql } from '@apollo/client';\nimport { AUTH_TOKEN } from '../constants';\nimport { Link } from 'react-router-dom';\n\n \n\n\nconst SIGNUP_MUTATION = gql`\nmutation SignupMutation(\n  $email: String!\n  $password: String!\n  $username: String!\n) {\n  createUser(\n    email: $email\n    password: $password\n    username: $username\n  ) {\n   user{\n    id\n    email\n    password\n    username\n  }\n  }\n\n \n\n  tokenAuth(username: $username,password: $password){\n  token\n  }\n}\n`;\n\n \n\nconst LOGIN_MUTATION = gql`\n  mutation TokenAuth(\n    $username: String!\n    $password: String!\n  ) {\n    tokenAuth(username: $username, password: $password) {\n      token\n    }\n  }\n`;\n\n \n\n \n\nconst Login = () => {\n  const history = useHistory();\n  const [formState, setFormState] = useState({\n    login: true,\n    email: '',\n    password: '',\n    name: ''\n  });\n\n \n\nconst [login] = useMutation(LOGIN_MUTATION, {\n  variables: {\n    username: formState.email,\n    password: formState.password\n  },\n  onCompleted: ({ tokenAuth }) => {\n    console.log(tokenAuth);\n    localStorage.setItem(AUTH_TOKEN, tokenAuth.token);\n    history.push('/');\n  }\n});\n\n \n\n\nfunction refreshPage(){\n  window.location.reload(true);\n}\n\n \n\nconst [signup] = useMutation(SIGNUP_MUTATION, {\n  variables: {\n    username: formState.name,\n    email: formState.email,\n    password: formState.password\n  },\n  onCompleted: ({ tokenAuth }) => {\n    localStorage.setItem(AUTH_TOKEN, tokenAuth.token);\n    history.push('/');\n\n \n\n  }\n});\n\n \n\n \n\n  return (\n    <div>\n      <h4 className=\"mv3\">\n        {formState.login ? 'Login' : 'Sign Up'}\n      </h4>\n      <div className=\"flex flex-column\">\n        {!formState.login && (\n          <input\n            value={formState.name}\n            onChange={(e) =>\n              setFormState({\n                ...formState,\n                name: e.target.value\n              })\n            }\n            type=\"text\"\n            placeholder=\"Your name\"\n          />\n        )}\n        <input\n          value={formState.email}\n          onChange={(e) =>\n            setFormState({\n              ...formState,\n              email: e.target.value\n            })\n          }\n          type=\"text\"\n          placeholder=\"Your name\"\n        />\n        <input\n          value={formState.password}\n          onChange={(e) =>\n            setFormState({\n              ...formState,\n              password: e.target.value\n            })\n          }\n          type=\"password\"\n          placeholder=\"Choose a safe password\"\n        />\n      </div>\n      <div className=\"flex mt3\">\n\n \n\n<button\n    className=\"pointer mr2 button\"\n    onClick={() => {\n      //formState.login ? login : signup ()\n      if (formState.login ) {\n        login(formState.username, formState.password ).then(()=>{\n          window.location.reload()\n\n \n\n        })\n\n \n\n      } else {\n        signup(formState.name, formState.password)\n      }\n    }}\n  >\n    {formState.login ? 'login' : 'create account' }\n\n \n\n\n  </button >\n  <button\n    className=\"pointer button\"\n    onClick={(e) =>\n      setFormState({\n        ...formState,\n        login: !formState.login\n      })\n    }\n  >\n          {formState.login\n            ? 'need to create an account?'\n            : 'already have an account?'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\n \n\nexport default Login;","import React, { useState } from 'react';\nimport { useLazyQuery } from '@apollo/client';\nimport gql from 'graphql-tag';\nimport Link from './Link';\n\n \n\n \n\nconst FEED_SEARCH_QUERY = gql`\n  query FeedSearchQuery($search: String) {\n  links(search: $search){\n      id\n      url\n        description\n        postedBy {\n          id\n          username\n        }\n        votes {\n          edges{\n            node{\n              id\n               user {\n                id\n            }\n            }\n          }\n\n \n\n        }\n       # createdAt\n  }\n}\n`;\n\n \n\nconst Search = () => {\n  const [searchFilter, setSearchFilter] = useState('');\n  const [executeSearch, { data }] = useLazyQuery(\n    FEED_SEARCH_QUERY\n  );\n\n \n\n  return (\n    <>\n      <div>\n        Search\n        <input\n          type=\"text\"\n          onChange={(e) => setSearchFilter(e.target.value)}\n        />\n        <button\n          onClick={() =>\n            executeSearch({\n              variables: { search: searchFilter }\n            })\n          }\n        >\n          OK\n        </button>\n      </div>\n      {data &&\n        data.links.map((link, index) => (\n          <Link key={link.id} link={link} index={index} />\n        ))}\n    </>\n  );\n};\nexport default Search;\n\n\n","import React, { Component } from 'react';\nimport LinkList from './LinkList';\nimport CreateLink from './CreateLink';\nimport Header from './Header';\nimport Login from './Login';\nimport Search from './Search';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\n\n\n\nconst App = () => (\n  <div className=\"center w85\">\n    <Header />\n    <div className=\"ph3 pv1 background-gray\">\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n           render={() => <Redirect to=\"/new/1\" />} \n        />\n        <Route\n          exact\n          path=\"/create\"\n          component={CreateLink}\n        />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/search\" component={Search} />\n      </Switch>\n    </div>\n  </div>\n);\n\nexport default App;\n\n","const isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\nimport { setContext } from '@apollo/client/link/context';\nimport { AUTH_TOKEN } from './constants';\nimport { onError } from \"@apollo/client/link/error\"\n\n\n// 1\nimport {\n  ApolloProvider,\n  ApolloClient,\n  createHttpLink,\n  InMemoryCache,\n\n  from\n} from '@apollo/client';\n\n\n\nconst httpLink = createHttpLink({\n  uri: 'http://35.232.232.192:8090/graphql/'\n});\n\nconst authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(AUTH_TOKEN);\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `JWT ${token}` : ''\n    }\n  };\n});\n\nconst errorLink = onError(({ graphQLErrors, networkError }) => {\n  if (graphQLErrors)\n    graphQLErrors.forEach(({ message, locations, path }) =>\n      console.log(\n        `[GraphQL error]: Message: ${message}, Location: ${locations}, Path: ${path}`,\n      ),\n    );\n\n  if (networkError) console.log(`[Network error]: ${networkError}`);\n});\n// 3\nconst client = new ApolloClient({\n  link: from([authLink, errorLink, httpLink]),\n  cache: new InMemoryCache()\n});\n\n\n\n// 4\nReactDOM.render(\n  <BrowserRouter>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>,\n  </BrowserRouter>,\n\n  document.getElementById('root')\n);\nserviceWorker.unregister();\n"]}}